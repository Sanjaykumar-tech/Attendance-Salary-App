<!DOCTYPE html>
<html lang="ta">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Smart Attendance Pro</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- SPLASH SCREEN -->
    <div id="splashScreen" class="splash-screen">
        <div class="splash-content">
            <i class="fas fa-fingerprint splash-icon"></i>
            <h1>Smart Attendance Pro</h1>
            <p>Professional Attendance & Salary Manager</p>
            <div class="loader"></div>
        </div>
    </div>

    <!-- LOGIN SCREEN -->
    <div id="loginScreen" class="screen active">
        <div class="container">
            <div class="logo-area">
                <i class="fas fa-clock logo-icon"></i>
                <h2>Welcome Back!</h2>
                <p>Sign in to your account</p>
            </div>
            
            <form id="loginForm" onsubmit="event.preventDefault(); login();">
                <div class="input-group">
                    <i class="fas fa-envelope input-icon"></i>
                    <input type="email" id="loginEmail" placeholder="Email" required>
                </div>
                
                <div class="input-group">
                    <i class="fas fa-lock input-icon"></i>
                    <input type="password" id="loginPassword" placeholder="Password" required>
                    <i class="fas fa-eye toggle-password" onclick="togglePassword('loginPassword')"></i>
                </div>
                
                <button type="submit" class="btn-primary">
                    <i class="fas fa-sign-in-alt"></i> Sign In
                </button>
            </form>
            
            <div class="auth-links">
                <p>Don't have account? <a href="#" onclick="showScreen('registerScreen')">Register</a></p>
            </div>
            
            <div class="demo-login">
                <p>Demo:</p>
                <button onclick="demoLogin('admin')" class="demo-btn">Admin</button>
                <button onclick="demoLogin('employee')" class="demo-btn">Employee</button>
            </div>
        </div>
    </div>

    <!-- REGISTER SCREEN -->
    <div id="registerScreen" class="screen">
        <div class="container">
            <div class="logo-area">
                <i class="fas fa-user-plus logo-icon"></i>
                <h2>Create Account</h2>
                <p>Fill your details</p>
            </div>
            
            <form id="registerForm" onsubmit="event.preventDefault(); register();">
                <div class="input-group">
                    <i class="fas fa-user input-icon"></i>
                    <input type="text" id="regName" placeholder="Full Name" required>
                </div>
                
                <div class="input-group">
                    <i class="fas fa-envelope input-icon"></i>
                    <input type="email" id="regEmail" placeholder="Email" required>
                </div>
                
                <div class="input-group">
                    <i class="fas fa-phone input-icon"></i>
                    <input type="tel" id="regPhone" placeholder="Phone" required>
                </div>
                
                <div class="input-group">
                    <i class="fas fa-lock input-icon"></i>
                    <input type="password" id="regPassword" placeholder="Password" required>
                </div>
                
                <div class="input-group">
                    <i class="fas fa-users-cog input-icon"></i>
                    <select id="regRole" required>
                        <option value="">Select Role</option>
                        <option value="admin">Admin</option>
                        <option value="employee">Employee</option>
                    </select>
                </div>
                
                <button type="submit" class="btn-primary">
                    <i class="fas fa-user-plus"></i> Register
                </button>
            </form>
            
            <div class="auth-links">
                <p>Already have account? <a href="#" onclick="showScreen('loginScreen')">Login</a></p>
            </div>
        </div>
    </div>

    <!-- ADMIN DASHBOARD -->
    <div id="adminDashboard" class="screen">
        <div class="dashboard-header">
            <div class="header-left">
                <i class="fas fa-bars menu-icon" onclick="toggleSidebar()"></i>
                <h2>Admin Dashboard</h2>
            </div>
            <div class="header-right">
                <i class="fas fa-bell notification-icon"></i>
                <div class="profile-dropdown">
                    <img src="https://ui-avatars.com/api/?name=Admin&background=4361ee&color=fff&size=40" alt="Profile" class="profile-img" onclick="toggleProfileMenu()">
                    <div id="profileMenu" class="profile-menu">
                        <a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <i class="fas fa-times close-sidebar" onclick="toggleSidebar()"></i>
                <h3>Menu</h3>
            </div>
            <ul class="sidebar-menu">
                <li class="active" onclick="showAdminTab('home')"><i class="fas fa-home"></i> Home</li>
                <li onclick="showAdminTab('employees')"><i class="fas fa-users"></i> Employees</li>
                <li onclick="showAdminTab('attendance')"><i class="fas fa-calendar-check"></i> Attendance</li>
                <li onclick="showAdminTab('salary')"><i class="fas fa-money-bill-wave"></i> Salary</li>
            </ul>
        </div>

        <div class="dashboard-content">
            <!-- Admin Home Tab -->
            <div id="adminHome" class="tab active">
                <div class="stats-grid">
                    <div class="stat-card">
                        <i class="fas fa-users stat-icon"></i>
                        <div class="stat-info">
                            <h3 id="totalEmployees">0</h3>
                            <p>Total Employees</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-user-check stat-icon"></i>
                        <div class="stat-info">
                            <h3 id="presentToday">0</h3>
                            <p>Present Today</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-user-clock stat-icon"></i>
                        <div class="stat-info">
                            <h3 id="onLeave">0</h3>
                            <p>On Leave</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-user-slash stat-icon"></i>
                        <div class="stat-info">
                            <h3 id="absentToday">0</h3>
                            <p>Absent</p>
                        </div>
                    </div>
                </div>

                <div class="recent-activity">
                    <h3>Today's Attendance</h3>
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>Employee</th>
                                    <th>Status</th>
                                    <th>Time</th>
                                </tr>
                            </thead>
                            <tbody id="todayAttendanceBody">
                                <!-- Dynamic content -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Employees Tab -->
            <div id="adminEmployees" class="tab">
                <div class="tab-header">
                    <h3>Employee Management</h3>
                    <button class="btn-add" onclick="showAddEmployeeModal()">
                        <i class="fas fa-plus"></i> Add Employee
                    </button>
                </div>
                
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchEmployee" placeholder="Search employees..." onkeyup="searchEmployees()">
                </div>

                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Phone</th>
                                <th>Department</th>
                                <th>Salary</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="employeesBody">
                            <!-- Dynamic content -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Attendance Tab -->
            <div id="adminAttendance" class="tab">
                <h3>Attendance Records</h3>
                <div class="date-picker">
                    <input type="date" id="attendanceDate" onchange="loadAttendanceByDate()">
                </div>
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>Employee</th>
                                <th>Status</th>
                                <th>Check In</th>
                                <th>Check Out</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="attendanceBody">
                            <!-- Dynamic content -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Salary Tab -->
            <div id="adminSalary" class="tab">
                <h3>Salary Calculation</h3>
                <div class="salary-controls">
                    <select id="salaryMonth">
                        <option value="1">January</option>
                        <option value="2">February</option>
                        <option value="3">March</option>
                        <option value="4">April</option>
                        <option value="5">May</option>
                        <option value="6">June</option>
                        <option value="7">July</option>
                        <option value="8">August</option>
                        <option value="9">September</option>
                        <option value="10">October</option>
                        <option value="11">November</option>
                        <option value="12">December</option>
                    </select>
                    <input type="number" id="salaryYear" value="2024" min="2020" max="2030">
                    <button class="btn-calculate" onclick="calculateAllSalaries()">
                        <i class="fas fa-calculator"></i> Calculate
                    </button>
                </div>
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>Employee</th>
                                <th>Basic Salary</th>
                                <th>Present</th>
                                <th>Leave</th>
                                <th>Absent</th>
                                <th>Net Salary</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="salaryBody">
                            <!-- Dynamic content -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- EMPLOYEE DASHBOARD -->
    <div id="employeeDashboard" class="screen">
        <div class="dashboard-header">
            <div class="header-left">
                <i class="fas fa-bars menu-icon" onclick="toggleEmployeeSidebar()"></i>
                <h2>Employee Dashboard</h2>
            </div>
            <div class="header-right">
                <i class="fas fa-bell notification-icon"></i>
                <div class="profile-dropdown">
                    <img src="https://ui-avatars.com/api/?name=Employee&background=4361ee&color=fff&size=40" alt="Profile" class="profile-img" onclick="toggleEmpProfileMenu()">
                    <div id="empProfileMenu" class="profile-menu">
                        <a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="employee-sidebar" id="empSidebar">
            <div class="sidebar-header">
                <i class="fas fa-times close-sidebar" onclick="toggleEmployeeSidebar()"></i>
                <h3>Menu</h3>
            </div>
            <ul class="sidebar-menu">
                <li class="active" onclick="showEmployeeTab('home')"><i class="fas fa-home"></i> Home</li>
                <li onclick="showEmployeeTab('attendance')"><i class="fas fa-history"></i> My Attendance</li>
                <li onclick="showEmployeeTab('salary')"><i class="fas fa-money-bill-wave"></i> My Salary</li>
            </ul>
        </div>

        <div class="dashboard-content">
            <!-- Employee Home Tab -->
            <div id="empHome" class="tab active">
                <div class="employee-welcome">
                    <h3 id="welcomeMessage"></h3>
                    <p id="currentDate"></p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <i class="fas fa-calendar-check stat-icon"></i>
                        <div class="stat-info">
                            <h3 id="totalPresent">0</h3>
                            <p>Present Days</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-calendar-times stat-icon"></i>
                        <div class="stat-info">
                            <h3 id="totalAbsent">0</h3>
                            <p>Absent Days</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-umbrella-beach stat-icon"></i>
                        <div class="stat-info">
                            <h3 id="totalLeave">0</h3>
                            <p>Leave Days</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-coins stat-icon"></i>
                        <div class="stat-info">
                            <h3 id="thisMonthSalary">₹0</h3>
                            <p>This Month Salary</p>
                        </div>
                    </div>
                </div>

                <div class="attendance-card">
                    <h3>Today's Attendance</h3>
                    <div class="attendance-status" id="todayStatus">
                        <i class="fas fa-clock"></i>
                        <p>Not marked yet</p>
                    </div>
                    <button class="btn-primary" onclick="markAttendance()">
                        <i class="fas fa-fingerprint"></i> Mark Attendance
                    </button>
                </div>

                <div class="recent-attendance">
                    <h3>Recent Attendance</h3>
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Status</th>
                                    <th>Check In</th>
                                    <th>Check Out</th>
                                </tr>
                            </thead>
                            <tbody id="employeeAttendanceHistory">
                                <!-- Dynamic content -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Employee Attendance Tab -->
            <div id="empAttendance" class="tab">
                <h3>My Attendance History</h3>
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Status</th>
                                <th>Check In</th>
                                <th>Check Out</th>
                            </tr>
                        </thead>
                        <tbody id="fullAttendanceHistory">
                            <!-- Dynamic content -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Employee Salary Tab -->
            <div id="empSalary" class="tab">
                <h3>My Salary Details</h3>
                <div class="salary-details-card">
                    <div class="salary-row">
                        <span>Basic Salary:</span>
                        <span id="empBasicSalary">₹0</span>
                    </div>
                    <div class="salary-row">
                        <span>Present Days:</span>
                        <span id="empPresentDays">0</span>
                    </div>
                    <div class="salary-row">
                        <span>Leave Days:</span>
                        <span id="empLeaveDays">0</span>
                    </div>
                    <div class="salary-row">
                        <span>Absent Days:</span>
                        <span id="empAbsentDays">0</span>
                    </div>
                    <div class="salary-row total">
                        <span>Net Salary:</span>
                        <span id="empNetSalary">₹0</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ADD EMPLOYEE MODAL -->
    <div id="addEmployeeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Employee</h3>
                <i class="fas fa-times" onclick="closeModal('addEmployeeModal')"></i>
            </div>
            <form id="addEmployeeForm" onsubmit="event.preventDefault(); saveEmployee();">
                <div class="modal-body">
                    <div class="input-group">
                        <i class="fas fa-user"></i>
                        <input type="text" id="empName" placeholder="Full Name" required>
                    </div>
                    <div class="input-group">
                        <i class="fas fa-envelope"></i>
                        <input type="email" id="empEmail" placeholder="Email" required>
                    </div>
                    <div class="input-group">
                        <i class="fas fa-phone"></i>
                        <input type="tel" id="empPhone" placeholder="Phone" required>
                    </div>
                    <div class="input-group">
                        <i class="fas fa-building"></i>
                        <input type="text" id="empDepartment" placeholder="Department" required>
                    </div>
                    <div class="input-group">
                        <i class="fas fa-briefcase"></i>
                        <input type="text" id="empPosition" placeholder="Position" required>
                    </div>
                    <div class="input-group">
                        <i class="fas fa-money-bill-wave"></i>
                        <input type="number" id="empSalary" placeholder="Monthly Salary" required>
                    </div>
                    <div class="input-group">
                        <i class="fas fa-calendar-alt"></i>
                        <input type="date" id="empJoinDate" required>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn-secondary" onclick="closeModal('addEmployeeModal')">Cancel</button>
                    <button type="submit" class="btn-primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- MARK ATTENDANCE MODAL -->
    <div id="attendanceModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Mark Attendance</h3>
                <i class="fas fa-times" onclick="closeModal('attendanceModal')"></i>
            </div>
            <div class="attendance-options">
                <div class="attendance-option" onclick="submitAttendance('present')">
                    <i class="fas fa-check-circle present"></i>
                    <h4>Present</h4>
                </div>
                <div class="attendance-option" onclick="submitAttendance('absent')">
                    <i class="fas fa-times-circle absent"></i>
                    <h4>Absent</h4>
                </div>
                <div class="attendance-option" onclick="submitAttendance('leave')">
                    <i class="fas fa-umbrella-beach leave"></i>
                    <h4>Leave</h4>
                </div>
                <div class="attendance-option" onclick="submitAttendance('halfday')">
                    <i class="fas fa-adjust halfday"></i>
                    <h4>Half Day</h4>
                </div>
            </div>
        </div>
    </div>

    <!-- TOAST NOTIFICATION -->
    <div id="toast" class="toast"></div>

    <script src="script.js"></script>
</body>
</html>